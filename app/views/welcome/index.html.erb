<%= javascript_include_tag "https://www.gstatic.com/charts/loader.js" %>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<h1>Welcome to BRICS database!</h1>
<%= link_to 'to Database', controller: 'articles' %>
<br><br>
<div id="main-container" class="container">
  <div class="row">
    <div class="col-xs-6">Количество текстов по тематическим разделам Бюллетеня</div>
    <div class="col-xs-6">Количество текстов, помещённых в Бюллетень</div>
  </div>
  <div class="row">
    <div class="col-xs-6"><%= pie_chart @articles.group(:category).count %></div>
    <div class="col-xs-6"><%= line_chart @articles.group_by_month(:date).count.map { |x,y| { x => (@sum += y)}}.reduce({}, :merge) %></div>
  </div>
  <div class="row">
    <div class="col-xs-12">Частотные диаграммы встречаемости ключевых слов</div>
  </div>
  <div class="row">
    <div class="col-xs-12"><%= bar_chart @articles.group(:keywords).count %></div>
  </div>
  <div class="row">
    <div class="col-xs-12">карты многомерного шкалирования совместной встречаемости ключевых слов по всему информационному массиву</div>
  </div>
  <div class="row">
    <div class="col-xs-12">
<%= scatter_chart [
    { name: "Keyword1", data: [[1025,53]]},
    { name: "Keyword2", data: [[1050,79]]},
    { name: "Keyword3", data: [[1100,86]]},
    { name: "Keyword4", data: [[1006,85]]},
    { name: "Keyword5", data: [[1000,80]]},
    { name: "Keyword6", data: [[1050,79]]}
] %></div>
  </div>
</div>